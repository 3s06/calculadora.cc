<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Completa</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 20px;
        }

        h1 {
            text-align: center;
        }

        label, select, input {
            display: block;
            width: 100%;
            margin-bottom: 15px;
            padding: 10px;
            font-size: 1rem;
        }

        button {
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            font-size: 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            background-color: #45a049;
        }

        .resultado, .historico {
            margin-top: 20px;
            padding: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
        }

        .historico-item {
            margin: 5px 0;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>Calculadora Completa</h1>
    <form id="formCalculadora">
        <label for="operacao">Escolha uma operação:</label>
        <select id="operacao" required>
            <option value="">Selecione...</option>
            <option value="soma">Soma</option>
            <option value="subtracao">Subtração</option>
            <option value="multiplicacao">Multiplicação</option>
            <option value="divisao">Divisão</option>
            <option value="potencia">Potência</option>
            <option value="raiz">Raiz Quadrada</option>
            <!-- Adicione mais operações conforme necessário -->
        </select>

        <label for="num1">Número 1:</label>
        <input type="number" id="num1" required>

        <label for="num2">Número 2:</label>
        <input type="number" id="num2">

        <button type="submit">Calcular</button>
    </form>

    <div class="resultado" id="resultado">Resultado: </div>
    <div class="historico" id="historico">
        <strong>Histórico:</strong>
        <div id="historico-lista"></div>
    </div>
</div>

<script>
    const form = document.getElementById('formCalculadora');
    const resultadoDiv = document.getElementById('resultado');
    const historicoLista = document.getElementById('historico-lista');

    let historico = [];

    form.addEventListener('submit', function(event) {
        event.preventDefault(); // Impede o envio do formulário padrão

        const operacao = document.getElementById('operacao').value;
        const n1 = parseFloat(document.getElementById('num1').value);
        const n2 = parseFloat(document.getElementById('num2').value);

        let resultado;
        let descricao;

        // Realiza a operação de acordo com a escolha do usuário
        switch (operacao) {
            case 'soma':
                resultado = n1 + n2;
                descricao = `${n1} + ${n2} = ${resultado}`;
                break;
            case 'subtracao':
                resultado = n1 - n2;
                descricao = `${n1} - ${n2} = ${resultado}`;
                break;
            case 'multiplicacao':
                resultado = n1 * n2;
                descricao = `${n1} * ${n2} = ${resultado}`;
                break;
            case 'divisao':
                if (n2 === 0) {
                    resultado = 'Erro: divisão por zero';
                    descricao = `${n1} / ${n2} = ${resultado}`;
                } else {
                    resultado = n1 / n2;
                    descricao = `${n1} / ${n2} = ${resultado}`;
                }
                break;
            case 'potencia':
                resultado = Math.pow(n1, n2);
                descricao = `${n1} ^ ${n2} = ${resultado}`;
                break;
            case 'raiz':
                resultado = Math.pow(n1, 1/n2); // Cálculo da raiz usando expoente fracionário
                descricao = `${n2}√${n1} = ${resultado}`;
                break;
            default:
                resultado = 'Operação inválida';
                descricao = resultado;
        }

        resultadoDiv.textContent = `Resultado: ${resultado}`; // Exibe o resultado na tela
        historico.push(descricao); // Armazena a operação no histórico
        atualizarHistorico(); // Atualiza a lista de histórico
    });

    function atualizarHistorico() {
        historicoLista.innerHTML = ''; // Limpa o conteúdo atual do histórico
        historico.slice().reverse().forEach(item => { // Mostra o histórico da operação mais recente para a mais antiga
            const div = document.createElement('div');
            div.classList.add('historico-item');
            div.textContent = item;
            historicoLista.appendChild(div);
        });
    }
</script>
</body>
</html>
